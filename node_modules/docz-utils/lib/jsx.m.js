import{getPropValue,getProp}from"jsx-ast-utils";import strip from"strip-indent";import escapeJS from"js-string-escape";import{parse}from"@babel/parser";import traverse from"@babel/traverse";const valueFromTraverse=(e,r=(e=>e))=>t=>{let o="";const s=parse(t,{plugins:["jsx"]});return traverse(s,{enter(t){if(e(t))return o=r(t),void t.stop()}}),o},codeFromNode=e=>r=>valueFromTraverse(e,e=>r.slice(e.node.start,e.node.end))(r),propFromElement=e=>valueFromTraverse(e=>e.isJSXOpeningElement(),r=>getPropValue(getProp(r.node.attributes,e))),removeTags=e=>{const r=codeFromNode(e=>e.isJSXOpeningElement()),t=codeFromNode(e=>e.isJSXClosingElement());return e.replace(r(e),"").replace(t(e),"")},sanitizeCode=e=>{const r=strip(e).trim(),t=r.startsWith("{")&&r.endsWith("}")?r.substr(1,r.length-2):r;return escapeJS(strip(t))},componentName=e=>{const r=e.match(/^\<\\?(\w+)/);return r&&r[1]};export{propFromElement,removeTags,sanitizeCode,componentName};
