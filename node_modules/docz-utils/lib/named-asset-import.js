"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var path=require("path");function namedAssetImport({types:e}){const t=new WeakSet;return{visitor:{ImportDeclaration(r,{opts:{loaderMap:i}}){const a=r.node.source.value,o=path.extname(a).substr(1);t.has(r.node)||-1!==a.indexOf("!")||i[o]&&r.replaceWithMultiple(r.node.specifiers.map(r=>{if(e.isImportDefaultSpecifier(r)){const i=e.importDeclaration([e.importDefaultSpecifier(e.identifier(r.local.name))],e.stringLiteral(a));return t.add(i),i}const n=e.importDeclaration([e.importSpecifier(e.identifier(r.local.name),e.identifier(r.imported.name))],e.stringLiteral(i[o][r.imported.name]?i[o][r.imported.name].replace(/\[path\]/,a):a));return t.add(n),n}))}}}}exports.default=namedAssetImport;
