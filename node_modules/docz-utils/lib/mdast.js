"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var vfile=_interopDefault(require("to-vfile")),unified=_interopDefault(require("unified")),remark=_interopDefault(require("remark-parse")),matter=_interopDefault(require("remark-frontmatter")),slug=_interopDefault(require("remark-slug")),parseFrontmatter=_interopDefault(require("remark-parse-yaml")),find=_interopDefault(require("unist-util-find")),is=_interopDefault(require("unist-util-is")),visit=_interopDefault(require("unist-util-visit")),humanize=_interopDefault(require("humanize-string")),flatten=_interopDefault(require("lodash.flatten")),get=_interopDefault(require("lodash.get"));const parseMdx=e=>{const t=vfile.readSync(e,"utf-8"),r=unified().use(remark,{type:"yaml",marker:"-"}).use(matter).use(parseFrontmatter).use(slug);return r.run(r.parse(t))},getChildValue=e=>e.map(e=>e.children?getChildValue(e.children):e.value),valueFromHeading=e=>{const t=get(e,"children"),r=get(e,"data.id");return Array.isArray(t)?flatten(getChildValue(t)).filter(Boolean).join(" "):humanize(r)},headingsFromAst=e=>{const t=[];return visit(e,"heading",e=>{const r=get(e,"data.id"),a=get(e,"depth");t.push({depth:a,slug:r,value:valueFromHeading(e)})}),t},getParsedData=e=>{const t=find(e,e=>is("yaml",e));return get(t,"data.parsedValue")||{}};exports.parseMdx=parseMdx,exports.headingsFromAst=headingsFromAst,exports.getParsedData=getParsedData;
