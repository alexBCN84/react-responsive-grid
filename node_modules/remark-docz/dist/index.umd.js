"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var visit=_interopDefault(require("unist-util-visit")),remove=_interopDefault(require("unist-util-remove"));const componentName=e=>{const t=e.match(/^\<\\?(\w+)/);return t&&t[1]},valuesFromNodes=e=>(t,r)=>{const n=[];if(t!==r)for(let u=r;u>=t;u--){const r=e.children[u];r.children&&r.children.length>0&&n.push(...r.children.map(e=>e.value)),r.value&&r.value.length>0&&n.push(r.value),u!==t&&remove(e,r)}return n},mergeNodeWithoutCloseTag=(e,t,r)=>{if(!t.value||"string"!=typeof t.value)return;const n=componentName(t.value),u=RegExp(`^\\<${n}`),o=RegExp(`\\<\\/${n}\\>$`),i=e=>u.test(e),l=e=>o.test(e),s=e=>e&&!i(e)&&l(e);if(!n||i(t.value)&&l(t.value))return;const a=e.children.findIndex(({value:e,children:t})=>t?t.some(e=>s(e.value)):s(e));if(a>-1&&a!==r){const n=valuesFromNodes(e)(r,a);t.value=n.reverse().join("\n")}};var index=()=>e=>visit(e,"html",(t,r)=>{mergeNodeWithoutCloseTag(e,t,r)});exports.default=index;
